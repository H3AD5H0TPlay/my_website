---
import { translations } from '../utils/translations';
const menuItems = [
  { href: '#skills', text: translations.skills.title },
  { href: '#projects', text: translations.projects.title },
  { href: '#contact', text: translations.contact.title }
];
---

<div class="md:hidden">
  <button
    id="menu-toggle"
    class="p-2 text-cyber-red hover:text-cyber-red-bright transition-all duration-300 hover:scale-105 relative group"
    aria-label="Toggle Menu"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M4 6h16M4 12h16m-7 6h7"
      />
    </svg>
  </button>

  <div
    id="mobile-menu"
    class="fixed inset-0 bg-cyber-black/80 backdrop-blur-lg z-50 transform translate-x-full transition-transform duration-300 border-l border-cyber-red/20"
  >
    <div class="absolute inset-0 pointer-events-none">
      <div class="absolute inset-0 bg-gradient-radial from-cyber-red/5 via-transparent to-transparent opacity-50"></div>
      <div class="absolute inset-0 animate-liquid-glass"></div>
    </div>
    <div class="flex justify-end p-4">
      <button
        id="menu-close"
        class="p-2 text-gray-600 hover:text-primary transition-colors"
        aria-label="Close Menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>
    <nav class="px-4 py-8">
      <ul class="space-y-6">
        {menuItems.map(item => (
          <li>
            <a
              href={item.href}
              class="block text-xl font-cyber font-medium text-white hover:text-cyber-red transition-all duration-300 relative group px-6 py-4 rounded-lg border border-cyber-red/10 bg-cyber-black/30 backdrop-blur-sm hover:border-cyber-red/30 hover:scale-[1.02]"
            >
              <span class="relative z-10">{item.text}</span>
              <div class="absolute inset-0 bg-gradient-to-r from-cyber-red/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg"></div>
              <div class="absolute top-0 right-0 w-12 h-12 border-t border-r border-cyber-red/20 rounded-tr-lg"></div>
              <div class="absolute bottom-0 left-0 w-12 h-12 border-b border-l border-cyber-red/20 rounded-bl-lg"></div>
            </a>
          </li>
        ))}
      </ul>
    </nav>
  </div>
</div>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const menuClose = document.getElementById('menu-close');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuLinks = mobileMenu?.querySelectorAll('a');

  function toggleMenu() {
    mobileMenu?.classList.toggle('translate-x-full');
    document.body.classList.toggle('overflow-hidden');
  }

  menuToggle?.addEventListener('click', toggleMenu);
  menuClose?.addEventListener('click', toggleMenu);

  menuLinks?.forEach(link => {
    link.addEventListener('click', () => {
      toggleMenu();
    });
  });
</script>